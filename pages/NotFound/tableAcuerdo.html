<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Datatable Acuerdo</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/v/bs4/dt-1.11.3/r-2.2.9/rg-1.1.4/datatables.min.css"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <table id="powertable" class="table" style="width: 100%"></table>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/v/bs4/dt-1.11.3/r-2.2.9/rg-1.1.4/datatables.min.js"
    ></script>
    <script>
      const data = [
        {
          titulo: 'Lorem, ipsum dolor.',
          tituloAlternativo: 'Lorem ipsum dolor sit.',
          autores: 'Impedit nostrum incidunt',
          numeroSesion: 'Laborum, doloremque!',
          fechaPublicacion: 'architecto praesentium',
          anioGestion: 'nemo aut architecto',
          catalogo: 'obcaecati possimus',
          tipoDocumento: 'Laboriosam labore fugit eum vel',
          unidades: 'Alias in velit itaque fugit? ',
          nombreArchivo: 'Animi culpa natus',
          colaboradores: 'Fuga, laborum. Quas ipsum',
          beneficiarios: 'Modivoluptate provident dolorum',
          palabraClave: 'enim illo odio, nulla quam veniam',
          idioma: 'voluptas reiciendis',
          tema: 'Molestiae nisi ve',
          descripcion: 'At assumenda libero obcaecati adipisci nobis',
          derechos: 'cupiditate suscipit aspernatur ut',
          comentarios: 'Laborum, doloremque!',
        },
      ];

      function initialConfigDataTable(headers) {
        const columns = [];
        const columnDefs = [];
        headers.forEach((column, index) => {
          const { orderable = true, searchable = true, ...others } = column;
          columns.push({ ...others });

          if (!orderable || !searchable) {
            columnDefs.push({ targets: [index], searchable, orderable });
          }
        });
        return [columns, columnDefs];
      }

      const headers = [
        { data: 'titulo', title: 'titulo' },
        { data: 'tituloAlternativo', title: 'tituloAlternativo' },
        { data: 'autores', title: 'autores' },
        { data: 'numeroSesion', title: 'numeroSesion' },
        { data: 'fechaPublicacion', title: 'fechaPublicacion' },
        { data: 'anioGestion', title: 'anioGestion' },
        { data: 'catalogo', title: 'catalogo' },
        { data: 'tipoDocumento', title: 'tipoDocumento' },
        { data: 'unidades', title: 'unidades' },
        { data: 'nombreArchivo', title: 'nombreArchivo' },
        { data: 'colaboradores', title: 'colaboradores' },
        { data: 'beneficiarios', title: 'beneficiarios' },
        { data: 'palabraClave', title: 'palabraClave' },
        { data: 'idioma', title: 'idioma' },
        { data: 'tema', title: 'tema' },
        { data: 'descripcion', title: 'descripcion' },
        { data: 'derechos', title: 'derechos' },
        { data: 'comentarios', title: 'comentarios' },
      ];

      const [columns, columnDefs] = initialConfigDataTable(headers);

      new DataTable('#powertable', {
        responsive: true,
        processing: true,
        deferRender: true,
        columns,
        columnDefs,
        data,
      });
    </script>
  </body>
</html>
